---
title: 1 - kube-apiserver
weight: 1
---

_当前版本v1.14_

## 简介

The Kubernetes API server validates and configures data for the api objects which include pods, services, replicationcontrollers, and others. The API Server services REST operations and provides the frontend to the cluster’s shared state through which all other components interact.

Kubernetes API server为API对象验证和配置数据，这些对象包括pod、服务、replicationcontroller和其他对象。API server通过REST操作，并提供集群共享状态的前端，所有其他组件都可以通过此共享状态进行交互。

```bash
kube-apiserver [flags]
```

## 参数选项

| --admission-control-config-file string                       | File with admission control configuration.                   |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| --advertise-address ip                                       | 向集群成员发布apiserver的IP地址。集群的其他组件必须能够访问这个地址。<br />如果为空，则使用`--bind-address`。如果`--bind-address`未指定，则使用主机的默认接口。 |
| --allow-privileged                                           | 如果为 true, 允许容器使用特权模式. [default=false]           |
| --alsologtostderr                                            | log to standard error as well as files                       |
| --anonymous-auth     <br />Default: true                     | 启用匿名请求到API服务器的安全端口。未被其他身份验证方法拒绝的请求被视为匿名请求。<br />匿名请求的用户名是system: Anonymous，组名是system:unauthenticated。 |
| --api-audiences stringSlice                                  | Identifiers of the API. The service account token authenticator will validate that tokens <br />used against the API are bound to at least one of these audiences. <br />If the --service-account-issuer flag is configured and this flag is not,<br /> this field defaults to a single element list containing the issuer URL . |
| --apiserver-count int     <br />Default: 1                   | 集群中运行的apiserver的数量，必须是正数。<br /> (In use when --endpoint-reconciler-type=master-count is enabled.) |
| --audit-dynamic-configuration                                | 启用动态审计配置。<br />该功能需要 DynamicAuditing feature flag |
| --audit-log-batch-buffer-size int     <br />Default: 10000   | 在批处理和写入之前存储事件的缓冲区的大小。仅在批处理模式下使用。 |
| --audit-log-batch-max-size int     <br />Default: 1          | 批处理的最大大小。仅在批处理模式下使用。                     |
| --audit-log-batch-max-wait duration                          | 在强制写入未达到最大大小的批之前需要等待的时间。仅在批处理模式下使用。 |
| --audit-log-batch-throttle-burst int                         | Maximum number of requests sent at the same moment if ThrottleQPS was not utilized before. <br />Only used in batch mode. |
| --audit-log-batch-throttle-enable                            | Whether batching throttling is enabled. Only used in batch mode. |
| --audit-log-batch-throttle-qps float32                       | Maximum average number of batches per second. Only used in batch mode. |
| --audit-log-format string     <br />Default: "json"          | Format of saved audits. "legacy" indicates 1-line text format for each event. <br />"json" indicates structured json format. Known formats are legacy,json. |
| --audit-log-maxage int                                       | 根据文件名中编码的时间戳保留旧审计日志文件的最大天数。       |
| --audit-log-maxbackup int                                    | 要保留的旧审计日志文件的最大数量。                           |
| --audit-log-maxsize int                                      | 轮换审计日志文件之前的最大大小(以M为单位)。                  |
| --audit-log-mode string     <br />Default: "blocking"        | Strategy for sending audit events. Blocking indicates sending events should block server responses. <br />Batch causes the backend to buffer and write events asynchronously. <br />Known modes are batch,blocking,blocking-strict. |
| --audit-log-path string                                      | 如果设置，所有发送到apiserver的请求都将被记录到这个文件中。<br />“-” 表示标准输出。 |
| --audit-log-truncate-enabled                                 | 是否启用事件和批处理截断。                                   |
| --audit-log-truncate-max-batch-size int    <br /> Default: 10485760 | 发送到底层后端批处理的最大大小。实际序列化的大小可以大几百字节。<br />如果一个批次超过这个限制，它就被分成几个较小尺寸的批次。 |
| --audit-log-truncate-max-event-size int     <br />Default: 102400 | Maximum size of the audit event sent to the underlying backend. <br />If the size of an event is greater than this number, first request and response are removed, <br />and if this doesn't reduce the size enough, event is discarded. |
| --audit-log-version string     <br />Default: "audit.k8s.io/v1" | 用于序列化写入日志的审计事件的API组和版本。                  |
| --audit-policy-file string                                   | 定义审计策略配置的文件的路径。                               |
| --audit-webhook-batch-buffer-size int     <br />Default: 10000 | 在批处理和写入之前存储事件的缓冲区的大小。仅在批处理模式下使用。 |
| --audit-webhook-batch-max-size int     <br />Default: 400    | 批处理的最大大小。仅在批处理模式下使用。                     |
| --audit-webhook-batch-max-wait <br />duration     Default: 30s | 在强制写入未达到最大大小的批之前需要等待的时间。仅在批处理模式下使用。 |
| --audit-webhook-batch-throttle-burst int     <br />Default: 15 | Maximum number of requests sent at the same moment if ThrottleQPS was not utilized before. <br />Only used in batch mode. |
| --audit-webhook-batch-throttle-enable     <br />Default: true | Whether batching throttling is enabled. Only used in batch mode. |
| --audit-webhook-batch-throttle-qps <br />float32   Default: 10 | Maximum average number of batches per second. Only used in batch mode. |
| --audit-webhook-config-file string                           | Path to a kubeconfig formatted file that defines the audit webhook configuration. |
| --audit-webhook-initial-backoff <br />duration   Default: 10s | The amount of time to wait before retrying the first failed request. |
| --audit-webhook-mode string     <br />Default: "batch"       | Strategy for sending audit events. Blocking indicates sending events should block server responses. Batch causes the backend to buffer and write events asynchronously. Known modes are batch,blocking,blocking-strict. |
| --audit-webhook-truncate-enabled                             | 是否启用事件和批处理截断。                                   |
| --audit-webhook-truncate-max-batch-size int     <br />Default: 10485760 | Maximum size of the batch sent to the underlying backend. Actual serialized size can be several hundreds of bytes greater. If a batch exceeds this limit, it is split into several batches of smaller size. |
| --audit-webhook-truncate-max-event-size int     <br />Default: 102400 | Maximum size of the audit event sent to the underlying backend. If the size of an event is greater than this number, first request and response are removed, and if this doesn't reduce the size enough, event is discarded. |
| --audit-webhook-version string     <br />Default: "audit.k8s.io/v1" | API group and version used for serializing audit events written to webhook. |
| --authentication-token-webhook-cache-ttl <br />duration   Default: 2m0s | The duration to cache responses from the webhook token authenticator. |
| --authentication-token-webhook-config-file string            | File with webhook configuration for token authentication in kubeconfig format. The API server will query the remote service to determine authentication for bearer tokens. |
| --authorization-mode stringSlice     <br />Default: [AlwaysAllow] | Ordered list of plug-ins to do authorization on secure port. Comma-delimited list of: AlwaysAllow,AlwaysDeny,ABAC,Webhook,RBAC,Node. |
| --authorization-policy-file string                           | File with authorization policy in json line by line format, used with --authorization-mode=ABAC, on the secure port. |
| --authorization-webhook-cache-authorized-ttl <br />duration     Default: 5m0s | The duration to cache 'authorized' responses from the webhook authorizer. |
| --authorization-webhook-cache-unauthorized-ttl <br />duration     Default: 30s | The duration to cache 'unauthorized' responses from the webhook authorizer. |
| --authorization-webhook-config-file string                   | File with webhook configuration in kubeconfig format, used with --authorization-mode=Webhook. The API server will query the remote service to determine access on the API server's secure port. |
| --azure-container-registry-config string                     | Path to the file containing Azure container registry configuration information. |
| --basic-auth-file string                                     | If set, the file that will be used to admit requests to the secure port of the API server via http basic authentication. |
| --bind-address ip    <br />Default: 0.0.0.0                  | The IP address on which to listen for the --secure-port port. The associated interface(s) must be reachable by the rest of the cluster, and by CLI/web clients. If blank, all interfaces will be used (0.0.0.0 for all IPv4 interfaces and :: for all IPv6 interfaces). |
| --cert-dir string     <br />Default: "/var/run/kubernetes"   | The directory where the TLS certs are located. If --tls-cert-file and --tls-private-key-file are provided, this flag will be ignored. |
| --client-ca-file string                                      | If set, any request presenting a client certificate signed by one of the authorities in the client-ca-file is authenticated with an identity corresponding to the CommonName of the client certificate. |
| --cloud-config string                                        | 云提供商配置文件的路径，留空表示不设置配置文件               |
| --cloud-provider string                                      | 云服务的提供者， 留空表示满意提供者                          |
| --cloud-provider-gce-lb-src-cidrs cidrs     <br />Default: 130.211.0.0/22,209.85.152.0/22,<br />209.85.204.0/22,35.191.0.0/16 | CIDRs在GCE防火墙中打开，用于LB流量代理和健康检查             |
| --contention-profiling                                       | Enable lock contention profiling, if profiling is enabled    |
| --cors-allowed-origins stringSlice                           | List of allowed origins for CORS, comma separated. An allowed origin can be a regular expression to support subdomain matching. If this list is empty CORS will not be enabled. |
| --default-not-ready-toleration-seconds <br />int Default: 300 | Indicates the tolerationSeconds of the toleration for notReady:NoExecute that is added by default to every pod that does not already have such a toleration. |
| --default-unreachable-toleration-seconds <br />int Default: 300 | Indicates the tolerationSeconds of the toleration for unreachable:NoExecute that is added by default to every pod that does not already have such a toleration. |
| --default-watch-cache-size <br />int Default: 100            | Default watch cache size. If zero, watch cache will be disabled for resources that do not have a default watch size set. |
| --delete-collection-workers <br />int Default: 1             | Number of workers spawned for DeleteCollection call. These are used to speed up namespace cleanup. |
| --disable-admission-plugins <br />stringSlice                | admission plugins that should be disabled although they are in the default enabled plugins list (NamespaceLifecycle, LimitRanger, ServiceAccount, TaintNodesByCondition, Priority, DefaultTolerationSeconds, DefaultStorageClass, PersistentVolumeClaimResize, MutatingAdmissionWebhook, ValidatingAdmissionWebhook, ResourceQuota). Comma-delimited list of admission plugins: AlwaysAdmit, AlwaysDeny, AlwaysPullImages, DefaultStorageClass, DefaultTolerationSeconds, DenyEscalatingExec, DenyExecOnPrivileged, EventRateLimit, ExtendedResourceToleration, ImagePolicyWebhook, LimitPodHardAntiAffinityTopology, LimitRanger, MutatingAdmissionWebhook, NamespaceAutoProvision, NamespaceExists, NamespaceLifecycle, NodeRestriction, OwnerReferencesPermissionEnforcement, PersistentVolumeClaimResize, PersistentVolumeLabel, PodNodeSelector, PodPreset, PodSecurityPolicy, PodTolerationRestriction, Priority, ResourceQuota, SecurityContextDeny, ServiceAccount, StorageObjectInUseProtection, TaintNodesByCondition, ValidatingAdmissionWebhook. The order of plugins in this flag does not matter. |
| --enable-admission-plugins <br />stringSlice                 | admission plugins that should be enabled in addition to default enabled ones (NamespaceLifecycle, LimitRanger, ServiceAccount, TaintNodesByCondition, Priority, DefaultTolerationSeconds, DefaultStorageClass, PersistentVolumeClaimResize, MutatingAdmissionWebhook, ValidatingAdmissionWebhook, ResourceQuota). Comma-delimited list of admission plugins: AlwaysAdmit, AlwaysDeny, AlwaysPullImages, DefaultStorageClass, DefaultTolerationSeconds, DenyEscalatingExec, DenyExecOnPrivileged, EventRateLimit, ExtendedResourceToleration, ImagePolicyWebhook, LimitPodHardAntiAffinityTopology, LimitRanger, MutatingAdmissionWebhook, NamespaceAutoProvision, NamespaceExists, NamespaceLifecycle, NodeRestriction, OwnerReferencesPermissionEnforcement, PersistentVolumeClaimResize, PersistentVolumeLabel, PodNodeSelector, PodPreset, PodSecurityPolicy, PodTolerationRestriction, Priority, ResourceQuota, SecurityContextDeny, ServiceAccount, StorageObjectInUseProtection, TaintNodesByCondition, ValidatingAdmissionWebhook. The order of plugins in this flag does not matter. |
| --enable-aggregator-routing                                  | Turns on aggregator routing requests to endpoints IP rather than cluster IP. |
| --enable-bootstrap-token-auth                                | Enable to allow secrets of type 'bootstrap.kubernetes.io/token' in the 'kube-system' namespace to be used for TLS bootstrapping authentication. |
| --enable-garbage-collector     <br />Default: true           | Enables the generic garbage collector. MUST be synced with the corresponding flag of the kube-controller-manager. |
| --enable-logs-handler     <br />Default: true                | If true, install a /logs handler for the apiserver logs.     |
| --encryption-provider-config <br />string                    | The file containing configuration for encryption providers to be used for storing secrets in etcd |
| --endpoint-reconciler-type <br />string  Default: "lease"    | Use an endpoint reconciler (master-count, lease, none)       |
| --etcd-cafile string                                         | SSL Certificate Authority file used to secure etcd communication. |
| --etcd-certfile string                                       | SSL certification file used to secure etcd communication.    |
| --etcd-compaction-interval <br />duration Default: 5m0s      | The interval of compaction requests. If 0, the compaction request from apiserver is disabled. |
| --etcd-count-metric-poll-period <br />duration Default: 1m0s | Frequency of polling etcd for number of resources per type. 0 disables the metric collection. |
| --etcd-keyfile string                                        | 用于保护etcd通信的SSL密钥文件。                              |
| --etcd-prefix string     <br />Default: "/registry"          | etcd中所有资源路径的前缀。                                   |
| --etcd-servers stringSlice                                   | 要连接的etcd服务器列表(scheme://ip:port)，逗号分隔。         |
| --etcd-servers-overrides <br />stringSlice                   | Per-resource etcd servers overrides, comma separated. The individual override format: group/resource#servers, <br />where servers are URLs, semicolon separated. |
| --event-ttl duration     <br />Default: 1h0m0s               | 保留事件的时间。                                             |
| --external-hostname <br />string                             | 当为该主机生成外部url时要使用的主机名(例如Swagger API文档)。 |
| --feature-gates mapStringBool                                | A set of key=value pairs that describe feature gates for alpha/experimental features. Options are: <br />APIListChunking=true\|false (BETA - default=true) <br />APIResponseCompression=true\|false (ALPHA - default=false) <br />AllAlpha=true\|false (ALPHA - default=false) <br />AppArmor=true\|false (BETA - default=true) <br />AttachVolumeLimit=true\|false (BETA - default=true) <br />BalanceAttachedNodeVolumes=true\|false (ALPHA - default=false) <br />BlockVolume=true\|false (BETA - default=true) <br />BoundServiceAccountTokenVolume=true\|false (ALPHA - default=false) <br />CPUManager=true\|false (BETA - default=true) <br />CRIContainerLogRotation=true\|false (BETA - default=true) <br />CSIBlockVolume=true\|false (BETA - default=true) <br />CSIDriverRegistry=true\|false (BETA - default=true) <br />CSIInlineVolume=true\|false (ALPHA - default=false) <br />CSIMigration=true\|false (ALPHA - default=false) <br />CSIMigrationAWS=true\|false (ALPHA - default=false) <br />CSIMigrationGCE=true\|false (ALPHA - default=false) <br />CSIMigrationOpenStack=true\|false (ALPHA - default=false) <br />CSINodeInfo=true\|false (BETA - default=true) <br />CustomCPUCFSQuotaPeriod=true\|false (ALPHA - default=false) <br />CustomResourcePublishOpenAPI=true\|false (ALPHA - default=false) <br />CustomResourceSubresources=true\|false (BETA - default=true) <br />CustomResourceValidation=true\|false (BETA - default=true) <br />CustomResourceWebhookConversion=true\|false (ALPHA - default=false) <br />DebugContainers=true\|false (ALPHA - default=false) <br />DevicePlugins=true\|false (BETA - default=true) <br />DryRun=true\|false (BETA - default=true) <br />DynamicAuditing=true\|false (ALPHA - default=false) <br />DynamicKubeletConfig=true\|false (BETA - default=true) <br />ExpandCSIVolumes=true\|false (ALPHA - default=false) <br />ExpandInUsePersistentVolumes=true\|false (ALPHA - default=false) <br />ExpandPersistentVolumes=true\|false (BETA - default=true) <br />ExperimentalCriticalPodAnnotation=true\|false (ALPHA - default=false) <br />ExperimentalHostUserNamespaceDefaulting=true\|false (BETA - default=false) <br />HyperVContainer=true\|false (ALPHA - default=false) <br />KubeletPodResources=true\|false (ALPHA - default=false) <br />LocalStorageCapacityIsolation=true\|false (BETA - default=true) <br />MountContainers=true\|false (ALPHA - default=false) <br />NodeLease=true\|false (BETA - default=true) <br />PodShareProcessNamespace=true\|false (BETA - default=true) <br />ProcMountType=true\|false (ALPHA - default=false) <br />QOSReserved=true\|false (ALPHA - default=false) <br />ResourceLimitsPriorityFunction=true\|false (ALPHA - default=false) <br />ResourceQuotaScopeSelectors=true\|false (BETA - default=true) <br />RotateKubeletClientCertificate=true\|false (BETA - default=true) <br />RotateKubeletServerCertificate=true\|false (BETA - default=true) <br />RunAsGroup=true\|false (BETA - default=true) <br />RuntimeClass=true\|false (BETA - default=true) <br />SCTPSupport=true\|false (ALPHA - default=false) <br />ScheduleDaemonSetPods=true\|false (BETA - default=true) <br />ServerSideApply=true\|false (ALPHA - default=false) <br />ServiceNodeExclusion=true\|false (ALPHA - default=false) <br />StorageVersionHash=true\|false (ALPHA - default=false) <br />StreamingProxyRedirects=true\|false (BETA - default=true) <br />SupportNodePidsLimit=true\|false (ALPHA - default=false) <br />SupportPodPidsLimit=true\|false (BETA - default=true) <br />Sysctls=true\|false (BETA - default=true) <br />TTLAfterFinished=true\|false (ALPHA - default=false) <br />TaintBasedEvictions=true\|false (BETA - default=true) <br />TaintNodesByCondition=true\|false (BETA - default=true) <br />TokenRequest=true\|false (BETA - default=true) <br />TokenRequestProjection=true\|false (BETA - default=true) <br />ValidateProxyRedirects=true\|false (BETA - default=true) <br />VolumeSnapshotDataSource=true\|false (ALPHA - default=false) <br />VolumeSubpathEnvExpansion=true\|false (ALPHA - default=false) <br />WinDSR=true\|false (ALPHA - default=false) <br />WinOverlay=true\|false (ALPHA - default=false) <br />WindowsGMSA=true\|false (ALPHA - default=false) |
| -h, --help                                                   | help for kube-apiserver                                      |
| --http2-max-streams-per-connection int                       | API server为HTTP/2连接中的最大流数向客户端提供的限制。 <br />0表示使用golang的默认 |
| --kubelet-certificate-authority string                       | 指向证书颁发机构的证书文件的路径。                           |
| --kubelet-client-certificate string                          | TLS客户端证书文件的路径。                                    |
| --kubelet-client-key string                                  | TLS客户端密钥文件的路径。                                    |
| --kubelet-https     Default: true                            | Use https for kubelet connections.                           |
| --kubelet-preferred-address-types <br />stringSlice Default: [Hostname,InternalDNS,InternalIP,<br />ExternalDNS,ExternalIP] | 用于kubelet连接的首选NodeAddressTypes列表。                  |
| --kubelet-read-only-port <br />uint     Default: 10255       | 【启用】:kubelet port.                                       |
| --kubelet-timeout <br />duration     Default: 5s             | kubelet 操作超时。                                           |
| --kubernetes-service-node-port int                           | 如果非零，Kubernetes主服务(apiserver创建/维护的)将是NodePort类型，使用这个值作为端口的值。如果为零，Kubernetes主服务的类型将为ClusterIP。 |
| --log-backtrace-at traceLocation     Default: :0             | when logging hits line file:N, emit a stack trace            |
| --log-dir string                                             | 如果非空，则在此目录中写入日志文件                           |
| --log-file string                                            | 如果非空，则使用此日志文件                                   |
| --log-flush-frequency <br />duration     Default: 5s         | 日志刷新间隔的最大秒数                                       |
| --logtostderr     Default: true                              | 日志到标准错误而不是文件                                     |
| --master-service-namespace <br />string     Default: "default" | 【弃用】: the namespace from which the kubernetes master services should be injected into pods. |
| --max-connection-bytes-per-sec int                           | 如果非零，则将每个用户连接限制到这个字节数/秒。目前仅适用于长时间运行的请求。 |
| --max-mutating-requests-inflight <br />int     Default: 200  | The maximum number of mutating requests in flight at a given time. <br />当服务器超过这个值时，它拒绝请求。0表示不限制。 |
| --max-requests-inflight int    <br /> Default: 400           | The maximum number of non-mutating requests in flight at a given time. <br />当服务器超过这个值时，它拒绝请求。0表示不限制。 |
| --min-request-timeout int     <br />Default: 1800            | An optional field indicating the minimum number of seconds a handler must keep a request open before timing it out. Currently only honored by the watch request handler, which picks a randomized value above this number as the connection timeout, to spread out load. |
| --oidc-ca-file string                                        | If set, the OpenID server's certificate will be verified by one of the authorities in the oidc-ca-file, otherwise the host's root CA set will be used. |
| --oidc-client-id string                                      | The client ID for the OpenID Connect client, must be set if oidc-issuer-url is set. |
| --oidc-groups-claim string                                   | If provided, the name of a custom OpenID Connect claim for specifying user groups. The claim value is expected to be a string or array of strings. This flag is experimental, please see the authentication documentation for further details. |
| --oidc-groups-prefix string                                  | If provided, all groups will be prefixed with this value to prevent conflicts with other authentication strategies. |
| --oidc-issuer-url string                                     | The URL of the OpenID issuer, only HTTPS scheme will be accepted. If set, it will be used to verify the OIDC JSON Web Token (JWT). |
| --oidc-required-claim <br />mapStringString                  | A key=value pair that describes a required claim in the ID Token. If set, the claim is verified to be present in the ID Token with a matching value. Repeat this flag to specify multiple claims. |
| --oidc-signing-algs <br />stringSlice Default: [RS256]       | Comma-separated list of allowed JOSE asymmetric signing algorithms. JWTs with a 'alg' header value not in this list will be rejected. Values are defined by RFC 7518 https://tools.ietf.org/html/rfc7518#section-3.1. |
| --oidc-username-claim string     Default: "sub"              | The OpenID claim to use as the user name. Note that claims other than the default ('sub') is not guaranteed to be unique and immutable. This flag is experimental, please see the authentication documentation for further details. |
| --oidc-username-prefix string                                | If provided, all usernames will be prefixed with this value. If not provided, username claims other than 'email' are prefixed by the issuer URL to avoid clashes. To skip any prefixing, provide the value '-'. |
| --profiling <br />Default: true                              | 通过web接口启用分析 host:port/debug/pprof/                   |
| --proxy-client-cert-file string                              | Client certificate used to prove the identity of the aggregator or kube-apiserver when it must call out during a request. This includes proxying requests to a user api-server and calling out to webhook admission plugins. It is expected that this cert includes a signature from the CA in the --requestheader-client-ca-file flag. That CA is published in the 'extension-apiserver-authentication' configmap in the kube-system namespace. Components receiving calls from kube-aggregator should use that CA to perform their half of the mutual TLS verification. |
| --proxy-client-key-file string                               | Private key for the client certificate used to prove the identity of the aggregator or kube-apiserver when it must call out during a request. This includes proxying requests to a user api-server and calling out to webhook admission plugins. |
| --request-timeout <br />duration  Default: 1m0s              | An optional field indicating the duration a handler must keep a request open before timing it out. This is the default request timeout for requests but may be overridden by flags such as --min-request-timeout for specific types of requests. |
| --requestheader-allowed-names stringSlice                    | List of client certificate common names to allow to provide usernames in headers specified by --requestheader-username-headers. If empty, any client certificate validated by the authorities in --requestheader-client-ca-file is allowed. |
| --requestheader-client-ca-file string                        | Root certificate bundle to use to verify client certificates on incoming requests before trusting usernames in headers specified by --requestheader-username-headers. WARNING: generally do not depend on authorization being already done for incoming requests. |
| --requestheader-extra-headers-prefix stringSlice             | List of request header prefixes to inspect. X-Remote-Extra- is suggested. |
| --requestheader-group-headers stringSlice                    | List of request headers to inspect for groups. X-Remote-Group is suggested. |
| --requestheader-username-headers stringSlice                 | List of request headers to inspect for usernames. X-Remote-User is common. |
| --runtime-config mapStringString                             | A set of key=value pairs that describe runtime configuration that may be passed to apiserver. <group>/<version> (or <version> for the core group) key can be used to turn on/off specific api versions. api/all is special key to control all api versions, be careful setting it false, unless you know what you do. api/legacy is deprecated, we will remove it in the future, so stop using it. |
| --secure-port int     <br />Default: 6443                    | The port on which to serve HTTPS with authentication and authorization.It cannot be switched off with 0. |
| --service-account-issuer string                              | Identifier of the service account token issuer. The issuer will assert this identifier in "iss" claim of issued tokens. This value is a string or URI. |
| --service-account-key-file stringArray                       | File containing PEM-encoded x509 RSA or ECDSA private or public keys, used to verify ServiceAccount tokens. The specified file can contain multiple keys, and the flag can be specified multiple times with different files. If unspecified, --tls-private-key-file is used. Must be specified when --service-account-signing-key is provided |
| --service-account-lookup     <br />Default: true             | If true, validate ServiceAccount tokens exist in etcd as part of authentication. |
| --service-account-max-token-expiration <br />duration        | The maximum validity duration of a token created by the service account token issuer. If an otherwise valid TokenRequest with a validity duration larger than this value is requested, a token will be issued with a validity duration of this value. |
| --service-account-signing-key-file string                    | Path to the file that contains the current private key of the service account token issuer. The issuer will sign issued ID tokens with this private key. (Requires the 'TokenRequest' feature gate.) |
| --service-cluster-ip-range <br />ipNet     Default: 10.0.0.0/24 | A CIDR notation IP range from which to assign service cluster IPs. This must not overlap with any IP ranges assigned to nodes for pods. |
| --service-node-port-range <br />portRange  Default: 30000-32767 | A port range to reserve for services with NodePort visibility. Example: '30000-32767'. Inclusive at both ends of the range. |
| --skip-headers                                               | If true, avoid header prefixes in the log messages           |
| --stderrthreshold <br />severity  Default: 2                 | 在此阈值或以上的日志将转到标准输出                           |
| --storage-backend string                                     | 用于持久性的存储后端。选择:“etcd3”(默认)。                   |
| --storage-media-type string     <br />Default: "application/vnd.kubernetes.protobuf" | The media type to use to store objects in storage. Some resources or storage backends may only support a specific media type and will ignore this setting. |
| --target-ram-mb int                                          | Memory limit for apiserver in MB (used to configure sizes of caches, etc.) |
| --tls-cert-file string                                       | File containing the default x509 Certificate for HTTPS. (CA cert, if any, concatenated after server cert). If HTTPS serving is enabled, and --tls-cert-file and --tls-private-key-file are not provided, a self-signed certificate and key are generated for the public address and saved to the directory specified by --cert-dir. |
| --tls-cipher-suites stringSlice                              | Comma-separated list of cipher suites for the server. If omitted, the default Go cipher suites will be use. Possible values: TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA,TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256,TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_CHACHA20_POLY1305,TLS_ECDHE_ECDSA_WITH_RC4_128_SHA,TLS_ECDHE_RSA_WITH_3DES_EDE_CBC_SHA,TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA,TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256,TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA,TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_RSA_WITH_CHACHA20_POLY1305,TLS_ECDHE_RSA_WITH_RC4_128_SHA,TLS_RSA_WITH_3DES_EDE_CBC_SHA,TLS_RSA_WITH_AES_128_CBC_SHA,TLS_RSA_WITH_AES_128_CBC_SHA256,TLS_RSA_WITH_AES_128_GCM_SHA256,TLS_RSA_WITH_AES_256_CBC_SHA,TLS_RSA_WITH_AES_256_GCM_SHA384,TLS_RSA_WITH_RC4_128_SHA |
| --tls-min-version string                                     | Minimum TLS version supported. Possible values: VersionTLS10, VersionTLS11, VersionTLS12 |
| --tls-private-key-file string                                | File containing the default x509 private key matching --tls-cert-file. |
| --tls-sni-cert-key namedCertKey     Default: []              | A pair of x509 certificate and private key file paths, optionally suffixed with a list of domain patterns which are fully qualified domain names, possibly with prefixed wildcard segments. If no domain patterns are provided, the names of the certificate are extracted. Non-wildcard matches trump over wildcard matches, explicit domain patterns trump over extracted names. For multiple key/certificate pairs, use the --tls-sni-cert-key multiple times. Examples: "example.crt,example.key" or "foo.crt,foo.key:*.foo.com,foo.com". |
| --token-auth-file string                                     | 如果设置，则使用该文件通过令牌身份验证来保护API服务器的安全端口。 |
| -v, --v Level                                                | number for the log level verbosity                           |
| --version version[=true]                                     | Print version information and quit                           |
| --vmodule moduleSpec                                         | comma-separated list of pattern=N settings for file-filtered logging |
| --watch-cache     <br />Default: true                        | 在apiserver中启用监控缓存                                    |
| --watch-cache-sizes stringSlice                              | 观察某些资源(pod、节点等)的缓存大小设置，用逗号分隔。<br />单独的设置格式: resource[.group]#size，其中资源是小写复数(没有版本)，apiVersion v1(遗留的核心API)的资源省略group，而其他资源包含group，而size是一个数字。<br />它在启用监视缓存时生效。有些资源(replicationcontroller、endpoints、nodes、pods、services、apiservice .apiregistration.k8 .io)在启动时设置系统默认值，<br />其他资源则默认值为default-watch-cache-size |